/******************************************
 * @name 海角社区
 * @description 海角社区解锁付费内容包括音频
 * @statement 仅供学习交流|禁止用于商业用途|违者后果自负|
              转载请注明来源|欢迎分享|拒绝倒卖|倒卖🐕必死🐎
 * @author 𝒀𝒖𝒉𝒆𝒏𝒈
 * @channel https://t.me/yqc_123
 * @feedback https://t.me/yqc_777
 * @update 20231001
 * @version 1.0.7
******************************************
#更新日志：
### 1.0.7(20231001)国庆节快乐🎉
    * 解锁个人中心
    * 去掉部分广告
    * 修复图片帖子解锁问题
    * 优化代码, 使用代理工具环境自带的一些方法
### 1.0.6(20231001)
    * 解锁付费音频
### 1.0.5(20230929)❗❗❗本版本包括之后版本点击播放后存在网络请求，故请等待1-3秒(取决于你的网络环境)
    * 修复付费视频播放问题

hostname = *hj*,*haijiao*

^http[s]?:\/\/.*(haijiao|hj).+api\/(topic.+\d+|attachment|login\/signin|user\/(current|info\/\d+)|banner\/banner_list)$ url script-response-body https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/haijiao.js

******************************************/
var version_='jsjiami.com.v7';var _0xa019c5=_0x399f;(function(_0x16492b,_0xa5c3f1,_0x32c8a1,_0x5eeab0,_0x53cdc1,_0x458153,_0x83f260){return _0x16492b=_0x16492b>>0x8,_0x458153='hs',_0x83f260='hs',function(_0x1314af,_0x276f21,_0x36bc16,_0x9d29dd,_0x9278e7){var _0x43674e=_0x399f;_0x9d29dd='tfi',_0x458153=_0x9d29dd+_0x458153,_0x9278e7='up',_0x83f260+=_0x9278e7,_0x458153=_0x36bc16(_0x458153),_0x83f260=_0x36bc16(_0x83f260),_0x36bc16=0x0;var _0x3bccdc=_0x1314af();while(!![]&&--_0x5eeab0+_0x276f21){try{_0x9d29dd=parseInt(_0x43674e(0x1e9,'YPEh'))/0x1*(-parseInt(_0x43674e(0x1fa,'%(VF'))/0x2)+parseInt(_0x43674e(0x248,'2k[n'))/0x3*(parseInt(_0x43674e(0x240,'49LH'))/0x4)+parseInt(_0x43674e(0x229,'v^MY'))/0x5*(-parseInt(_0x43674e(0x1f3,'IQnr'))/0x6)+parseInt(_0x43674e(0x1e1,'ddRl'))/0x7+parseInt(_0x43674e(0x1dd,'A1PL'))/0x8*(-parseInt(_0x43674e(0x1ee,'!$Xx'))/0x9)+-parseInt(_0x43674e(0x1de,'9V2W'))/0xa*(parseInt(_0x43674e(0x1f8,'YPEh'))/0xb)+parseInt(_0x43674e(0x215,'2Qis'))/0xc;}catch(_0x2a4596){_0x9d29dd=_0x36bc16;}finally{_0x9278e7=_0x3bccdc[_0x458153]();if(_0x16492b<=_0x5eeab0)_0x36bc16?_0x53cdc1?_0x9d29dd=_0x9278e7:_0x53cdc1=_0x9278e7:_0x36bc16=_0x9278e7;else{if(_0x36bc16==_0x53cdc1['replace'](/[DYkXGnNJhxgrdKTWPuMlVb=]/g,'')){if(_0x9d29dd===_0x276f21){_0x3bccdc['un'+_0x458153](_0x9278e7);break;}_0x3bccdc[_0x83f260](_0x9278e7);}}}}}(_0x32c8a1,_0xa5c3f1,function(_0x5851dd,_0x368d63,_0x5ebfc9,_0x2f4809,_0x2b633a,_0x4f0907,_0x2d37d6){return _0x368d63='\x73\x70\x6c\x69\x74',_0x5851dd=arguments[0x0],_0x5851dd=_0x5851dd[_0x368d63](''),_0x5ebfc9='\x72\x65\x76\x65\x72\x73\x65',_0x5851dd=_0x5851dd[_0x5ebfc9]('\x76'),_0x2f4809='\x6a\x6f\x69\x6e',(0x14098c,_0x5851dd[_0x2f4809](''));});}(0xca00,0x2fb35,_0x4d11,0xcc),_0x4d11)&&(version_=_0x4d11);var $=new Env(_0xa019c5(0x202,'!tpz')),service=$['http'],{body:body}=$response,utf8=new Utf8(),haijiao=new Haijiao();function _0x399f(_0x30209f,_0x2eafc8){var _0x4d1121=_0x4d11();return _0x399f=function(_0x399fb7,_0x3693c3){_0x399fb7=_0x399fb7-0x1db;var _0x53cc48=_0x4d1121[_0x399fb7];if(_0x399f['oJEifO']===undefined){var _0x3462e3=function(_0x4dbf5f){var _0x221796='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x7dacd6='',_0x583a64='';for(var _0x147d49=0x0,_0x4e011d,_0x19ebb1,_0x434127=0x0;_0x19ebb1=_0x4dbf5f['charAt'](_0x434127++);~_0x19ebb1&&(_0x4e011d=_0x147d49%0x4?_0x4e011d*0x40+_0x19ebb1:_0x19ebb1,_0x147d49++%0x4)?_0x7dacd6+=String['fromCharCode'](0xff&_0x4e011d>>(-0x2*_0x147d49&0x6)):0x0){_0x19ebb1=_0x221796['indexOf'](_0x19ebb1);}for(var _0xa47f28=0x0,_0x1c4c1c=_0x7dacd6['length'];_0xa47f28<_0x1c4c1c;_0xa47f28++){_0x583a64+='%'+('00'+_0x7dacd6['charCodeAt'](_0xa47f28)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x583a64);};var _0x2ba82a=function(_0x9e793a,_0xc94a95){var _0x2ed4d4=[],_0x199a0e=0x0,_0x373ed5,_0x2c70ff='';_0x9e793a=_0x3462e3(_0x9e793a);var _0x2eef3d;for(_0x2eef3d=0x0;_0x2eef3d<0x100;_0x2eef3d++){_0x2ed4d4[_0x2eef3d]=_0x2eef3d;}for(_0x2eef3d=0x0;_0x2eef3d<0x100;_0x2eef3d++){_0x199a0e=(_0x199a0e+_0x2ed4d4[_0x2eef3d]+_0xc94a95['charCodeAt'](_0x2eef3d%_0xc94a95['length']))%0x100,_0x373ed5=_0x2ed4d4[_0x2eef3d],_0x2ed4d4[_0x2eef3d]=_0x2ed4d4[_0x199a0e],_0x2ed4d4[_0x199a0e]=_0x373ed5;}_0x2eef3d=0x0,_0x199a0e=0x0;for(var _0x530a88=0x0;_0x530a88<_0x9e793a['length'];_0x530a88++){_0x2eef3d=(_0x2eef3d+0x1)%0x100,_0x199a0e=(_0x199a0e+_0x2ed4d4[_0x2eef3d])%0x100,_0x373ed5=_0x2ed4d4[_0x2eef3d],_0x2ed4d4[_0x2eef3d]=_0x2ed4d4[_0x199a0e],_0x2ed4d4[_0x199a0e]=_0x373ed5,_0x2c70ff+=String['fromCharCode'](_0x9e793a['charCodeAt'](_0x530a88)^_0x2ed4d4[(_0x2ed4d4[_0x2eef3d]+_0x2ed4d4[_0x199a0e])%0x100]);}return _0x2c70ff;};_0x399f['rwtZXj']=_0x2ba82a,_0x30209f=arguments,_0x399f['oJEifO']=!![];}var _0x369b4c=_0x4d1121[0x0],_0x4d2cd8=_0x399fb7+_0x369b4c,_0x42c520=_0x30209f[_0x4d2cd8];return!_0x42c520?(_0x399f['ylcoLb']===undefined&&(_0x399f['ylcoLb']=!![]),_0x53cc48=_0x399f['rwtZXj'](_0x53cc48,_0x3693c3),_0x30209f[_0x4d2cd8]=_0x53cc48):_0x53cc48=_0x42c520,_0x53cc48;},_0x399f(_0x30209f,_0x2eafc8);}if(/api\/topic\/\d+/[_0xa019c5(0x23c,'291v')]($request['url'])){var obj=JSON[_0xa019c5(0x236,'jM!#')](body),_decrypt=haijiao['decrypt'](obj[_0xa019c5(0x1e5,'%P7@')]),_prefix=$request[_0xa019c5(0x203,'1EAO')][_0xa019c5(0x22c,'49LH')](/(http[s]?:\/\/[^\/]+)\//)[0x1];const getVarType=_0x381efd=>{var _0x5bf991=_0xa019c5,_0x2aae86={'inYPb':_0x5bf991(0x1f1,'cTYT'),'kpjSf':'images'};return _0x381efd['find'](_0x455912=>_0x455912['category']===_0x5bf991(0x245,'291v'))?_0x2aae86['inYPb']:_0x381efd[_0x5bf991(0x1e4,'Ma(W')](_0x48566a=>_0x48566a[_0x5bf991(0x1fb,'9V2W')]==='audio')?_0x5bf991(0x1f9,'Ub4y'):_0x2aae86['kpjSf'];};var _type=getVarType(_decrypt[_0xa019c5(0x21c,'Sn2F')]),_index=_decrypt[_0xa019c5(0x22d,'r0ZI')][_0xa019c5(0x226,'49LH')](_0x3b5419=>_0x3b5419[_0xa019c5(0x21b,'YPEh')]===_type),htmlMap={'images':'','video':'<div\x20style=\x22margin-top:20px;\x22><video\x20src=\x22\x22\x20data-id=\x22'+_decrypt['attachments'][_index]['id']+_0xa019c5(0x243,'Ls[F'),'audio':'<div\x20style=\x22margin-top:20px;\x22><audio\x20id=\x22showaudio\x22\x20src=\x22'+_decrypt['attachments'][_index][_0xa019c5(0x239,'Ub4y')]+'\x22\x20controls\x20controlslist=\x22nodownload\x22></audio></div>'},_shuffix=_decrypt[_0xa019c5(0x246,'^rQ&')][_index]?.[_0xa019c5(0x23e,'p^mv')]||'',_url=_shuffix&&!_shuffix[_0xa019c5(0x200,'1EAO')](_0xa019c5(0x242,'P*]^'))?/http/[_0xa019c5(0x228,'aVZu')](_shuffix)?_shuffix:_prefix+_shuffix:'';__crack(_url)['then'](_0x1c618e=>{var _0x19b523=_0xa019c5,_0x15bd13={'ibeMA':_0x19b523(0x21a,'[3dN'),'oDQiN':function(_0x42cb8,_0x24b2e1,_0x2e7118){return _0x42cb8(_0x24b2e1,_0x2e7118);},'hVtEB':function(_0x461a8d,_0x45e23e){return _0x461a8d+_0x45e23e;},'XalSb':function(_0x26f411,_0x50f94c){return _0x26f411*_0x50f94c;}};_0x1c618e&&(_decrypt[_0x19b523(0x223,'1EAO')][_index]['remoteUrl']=_0x1c618e),_decrypt['content']=_decrypt[_0x19b523(0x1ed,'!tpz')]['replace'](_0x19b523(0x1e2,'P*]^'),_0x19b523(0x208,'jW)y'))['replace'](/<span class=\"sell-btn\" data-floor=\"0\"><span data-sell=\"0\" class=\"sell_line1\">(.*)<\/span><span data-sell=\"0\" class=\"sell_line2\">(.*)购买(.*)<\/span>/,htmlMap[_type]),_decrypt[_0x19b523(0x251,'A1PL')](_0x15bd13['ibeMA'])&&(_decrypt[_0x19b523(0x20f,'v^MY')][_0x19b523(0x21e,'qitQ')]=!![],_decrypt[_0x19b523(0x20d,'jM!#')][_0x19b523(0x22a,'aVZu')]=_0x15bd13['oDQiN'](parseInt,_0x15bd13['hVtEB'](_0x15bd13[_0x19b523(0x209,'ddRl')](Math[_0x19b523(0x201,'Ew96')](),_0x15bd13['hVtEB'](0x1388-0x3e8,0x1)),0x3e8),0xa)),$[_0x19b523(0x24a,'A1PL')]({'body':JSON['stringify']({...obj,'isEncrypted':![],'data':_decrypt})});})['catch'](_0x1d8fd0=>{var _0x208748=_0xa019c5;console[_0x208748(0x1e7,'HJg$')](_0x1d8fd0),$[_0x208748(0x212,'Ub4y')]({});});}else{if(/api\/topic\/att\/\d+/['test']($request[_0xa019c5(0x1e6,'hEsW')])){var obj=JSON[_0xa019c5(0x218,'aVZu')](body),_decrypt=haijiao[_0xa019c5(0x234,'Ew96')](obj[_0xa019c5(0x1e5,'%P7@')]);_decrypt[_0xa019c5(0x211,'cTYT')](_0x24ff6a=>{var _0x59b206=_0xa019c5,_0x5019f8={'JDIJJ':_0x59b206(0x235,'%(VF'),'mlURJ':_0x59b206(0x241,'hEsW')},_0xf7b251=_0x24ff6a?.[_0x59b206(0x220,'2Qis')]||_decrypt[0x0]['url'];_0x24ff6a['url']=_0xf7b251[_0x59b206(0x1ff,'jW)y')](_0x5019f8[_0x59b206(0x1f5,'1EAO')],_0x5019f8[_0x59b206(0x23f,'ITsx')]),_0x24ff6a[_0x59b206(0x1f4,'@CNo')]=0x0;}),$[_0xa019c5(0x1f6,'M!d5')]({'body':JSON['stringify']({...obj,'isEncrypted':![],'data':_decrypt})});}else{if(/api\/attachment/['test']($request[_0xa019c5(0x230,'YMEe')])){var uuJGVi=_0xa019c5(0x217,'Ub4y')[_0xa019c5(0x238,'8k[&')]('|'),waiHOj=0x0;while(!![]){switch(uuJGVi[waiHOj++]){case'0':__crack(_prefix+_shuffix)[_0xa019c5(0x249,'2Qis')](_0x3c6459=>{var _0x2f1178=_0xa019c5;_decrypt[_0x2f1178(0x204,'P*]^')]=_0x3c6459,$[_0x2f1178(0x224,'[3dN')]({'body':JSON['stringify']({...obj,'isEncrypted':![],'data':_decrypt})});})[_0xa019c5(0x1fc,'Q0L%')](_0x2ebc52=>{var _0x1fd82a=_0xa019c5;console[_0x1fd82a(0x20b,'%P7@')](_0x2ebc52),$[_0x1fd82a(0x247,'YaS1')]({});});continue;case'1':var _shuffix=_decrypt[_0xa019c5(0x1ec,'%(VF')];continue;case'2':var obj=JSON[_0xa019c5(0x210,'cTYT')](body);continue;case'3':var _decrypt=haijiao[_0xa019c5(0x1fe,'[3dN')](obj[_0xa019c5(0x20c,'%(VF')]);continue;case'4':var _prefix=$request[_0xa019c5(0x1ea,'ddRl')]['match'](/(http[s]?:\/\/[^\/]+)\//)[0x1];continue;}break;}}else{if(/(login\/signin)|(user\/(current|info\/\d+))/['test']($request[_0xa019c5(0x1ea,'ddRl')])){var obj=JSON[_0xa019c5(0x207,'291v')](body),_decrypt=haijiao[_0xa019c5(0x1f7,'Kv9z')](obj[_0xa019c5(0x1db,'2Qis')]);const modifyUser=_0x556cba=>{var _0x16704a=_0xa019c5,_0x2b50c8={'ZNMof':_0x16704a(0x24b,'%P7@'),'rAlyZ':_0x16704a(0x20e,'ddRl'),'Svxdi':_0x16704a(0x1f0,'@CNo'),'fWGcg':_0x16704a(0x231,'M!d5'),'YjHzg':_0x16704a(0x24f,'itPo'),'KbcNy':_0x16704a(0x22b,'YaS1')};if(_0x556cba[_0x16704a(0x205,'Ub4y')](_0x2b50c8['rAlyZ'])){if('OxzgL'!==_0x16704a(0x23b,'YMEe'))_0x556cba[_0x16704a(0x221,'cTYT')]={..._0x556cba['user'],'title':{..._0x556cba[_0x16704a(0x214,'([vj')][_0x16704a(0x1e0,'M!d5')],'name':'神豪','icon':_0x2b50c8[_0x16704a(0x237,'49LH')]}};else{var _0xc86d26=_0x50b9cb[_0x16704a(0x24e,'%u^S')](_0x57d9db);_0xa45d58[_0x16704a(0x21d,'H]$%')]({'body':_0x5a37c6[_0x16704a(0x250,'ITsx')]({..._0xc86d26,'data':_0x2b50c8['ZNMof']})});}}return{..._0x556cba,'nickname':_0x2b50c8['fWGcg'],'avatar':'0','description':_0x2b50c8['YjHzg'],'title':{..._0x556cba[_0x16704a(0x227,'YaS1')],'name':'神豪','icon':_0x2b50c8['Svxdi']},'vip':0x4,'vipExpiresTime':_0x2b50c8['KbcNy'],'famous':!![],'popularity':0x3e7,'hasGaEnabled':!![]};};_decrypt=modifyUser(_decrypt),$['done']({'body':JSON['stringify']({...obj,'isEncrypted':![],'data':_decrypt})});}else{if(/banner\/banner_list/['test']($request[_0xa019c5(0x23d,'291v')])){var obj=JSON[_0xa019c5(0x244,'A1PL')](body);$[_0xa019c5(0x23a,'v^MY')]({'body':JSON[_0xa019c5(0x213,'9V2W')]({...obj,'data':_0xa019c5(0x1fd,'([vj')})});}else $['done']({});}}}}function _0x4d11(){var _0x6d8ff9=(function(){return[version_,'hxjsPjWiaVmnkiK.hThcloMhmX.uvgdK7DNYbGrJ==','DCkzWQuA','WQfTs1ldUSkTWRddRa','cmoElCovWRvMc8kBWPBdGG4','W6T1kSov','vdmHWPO5pG','W4VcKIC7W6C','iXWu','i2lcOmoW','WQmdWOHyW4C','BCorlmk/gGqbW6rGW7eM','ySkxWQCA','aJFdPSoV','WPvhamkVW43cP3JcJ8kW','WOtdSCkJW6T9','r0tcGMm','W6DYbZpdUCo5DtCgDgy','uvtcIeHZWONcMM3cSq','W4lcQmoUWR41WONdT8kqgW4rAZrQuSoCW6xdHa0','WP5pgSkOW6W','W5ZcQtxdQqxdU2bxWPBdUWS','bCk4W5C','W5RcQ8ooWQa8bvq','W6RdH8o7','8k2PMFgbUQFWR5Qd8lcRUpgbMidWR7Ur','xJ/dPSkWW7hdTL4','W6/cJt/dHSk8','W5OrzK5Dzmkb','AsanWOXuuWBcJYvTfge','W4WFWRVdJCo0','WQbyfSkVW60','WOi4WOSTua','qmo7W69SpXXuW4mv','WRqTwga','W7RdVSo6umoz','W4dcU8orWP4','W4hcRmoo','WOZdV8knWQj7ftNcMSk1','mLzHggS','W4SEpSkJW43cOLhcGa'].concat((function(){return['W7nWWOLgj8o8W6JcR2NdHCkfW4tdUK4CW6GrqcVcS0xcHsZcHXxcPCkgsSov','gCk2W4VdUW','dMtcQSoZW6BdVf/dNuvUWOSihSoiW4v7','zH3dHmkwWQS','W4lcT8ogWO/dPG','W5j3nuRdT8oJx8keW5rloa','WPtdT8k5W6i','fCkOWO1yWQ5rW4RcG3Thga','iGyDua','CHpdMmka','nd8NWOuuWQJcHXVcI8kfoCkAlxPCrG','WRDJWRpcVxThWRRcJSk4zCkMhSoI','j0NcGmksWP3cQSkqW5VcJW','WQ3dIMXmWRG','W7FdKCkXWQWyeqWnBKXNEcFdPSkJWRtdQcKkW5i','le5gi08Lk0pdKa','FH3dHCkQWRNcP8krW5/cMCoPmSogW5FcRG','arhdGsCOW5pdIMpcOGVdUmk/W5q','mG8mxW','zYFdTCodWRhcTmoBWQldUW','j0NcJSovW77dU8o1W6BcT8oCmCocW7y','WPKfscbpBCo1WOpdJG','W5HhW54dWRhcNLapnmoaWOm5','nXdcHSo9lq','W7ZdMCkViq9hjSo9WOzBWOBcJYy','c8kQW5BdRSk7aq','u8oTWPxcQCk+WQajWQ/dUmk6hG','aSoQWRG0','bWLJW5u','W652WPe','WPb5aa','lKZdPSknWOFcOSkmW4C','W7m8bGBcQCo2WQpdUCkijmoqWO4','WRVcMCo6','eCkPW5hdUCoIWQW','ncqqWOOpvZFcMtS','F8oOp1VdICoVWOq','W6XxWPZdNulcPt4','W4VdGdeHcSoz','WOnQbSoVx8k/WQ4tdCk9WOJdQxldI8o8WR/cPIZdJh9NW6bDWQjhW5r/WOjcbeCbW6RcHt4hW7mRW7eRxSoXWPtcNaKLW402kKdcISk1WPvTWPrWWR9GW61CsSoNWQNdRrOnfSoIW5CslY5GW4u','ihJcOCoNWQ8'].concat((function(){return['nmkGWOW4WOxcIM0','WPxcRHddOmkxbwBdKCoX','WR13aSotrCoOW6Hi','rSoHeCkumW','jXBcNmo0','W4VdGde8f8omqG','W7m8cq7cR8kPWQVdO8kDf8oZ','u8oRW6zQja','DbK4WQiDzIm','W4TsdarzASoHWOm','W6yWW77dRsq','W6/cTxTJW4xdOdLLW614WQhdNHtcRLeo','ySkDWQOnWPRcRLG','b8k1WRy5W6RdRvO','AColpmkTlGuyW6K','W4WvA1HlEq','5RwR6kwv56wV5yYvW6/dS8krWQ09WPu0','ECoxna','rCkNW57dOmkRwJVdTfq','wSo/W7fmpbDrW4mwgw8JntW','rmo1W5WAW6fjW64','W4tcV8oqWPNdRa','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','WPBcISo6qvO','W4pcPbpdHSknedvV','dWDW','iIajWOq','W48FWQxdMW','WRVcMmoZya','WQmJwMa','jNdcT8oXWQu','mh7cT8ohWQhcV8ov','vSoXW6XM','W5ThcGHqySo6WPZdGa','W43cKs4G','zf5idIyRCSkIrmkTteldQa','W5SAzLnaCq','amoIWRf/FWuWW41j','q0dcG2r/','tmk/WO4vWPi'];}()));}()));}());_0x4d11=function(){return _0x6d8ff9;};return _0x4d11();};async function __crack(_0x18a4ab){var _0x291353=_0xa019c5,_0x516cde={'JGGjq':_0x291353(0x225,'Ls[F'),'IGHsf':_0x291353(0x22f,'p^mv')};return _0x18a4ab?_0x18a4ab[_0x291353(0x20a,'MZnb')](_0x516cde[_0x291353(0x219,'[3dN')])?_0x18a4ab:(await service[_0x291353(0x22e,'w]U6')]({'url':_0x18a4ab}))['body'][_0x291353(0x21f,'([vj')]('\x0a')[0x6][_0x291353(0x232,'Ls[F')](/(\w+_*)\d+\.ts/,_0x516cde[_0x291353(0x233,'MZnb')]):'';}function Haijiao(){var _0x3fcc50=_0xa019c5,_0x235bc9={'JtojB':function(_0x5e3ec8,_0x555c36){return _0x5e3ec8(_0x555c36);}};return new class{['encrypt'](_0x5afaa1){var _0xaa84bf=_0x399f;return btoa(_0x235bc9['JtojB'](btoa,_0x235bc9[_0xaa84bf(0x222,'q8Hs')](btoa,utf8[_0xaa84bf(0x216,'Ew96')](typeof _0x5afaa1===_0xaa84bf(0x1eb,'w]U6')?_0x5afaa1:JSON['stringify'](_0x5afaa1)))));}[_0x3fcc50(0x206,'2k[n')](_0x1e27be){var _0x49d181=_0x3fcc50;return JSON['parse'](utf8[_0x49d181(0x1ef,'Kv9z')](atob(atob(atob(_0x1e27be)))));}}();}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Utf8(){return new class{constructor(){this.byteArray=null,this.byteCount=null,this.byteIndex=null}ucs2decode(r){for(var e,t,n=[],o=0,a=r.length;o<a;)(e=r.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(t=r.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&t)+65536):(n.push(e),o--):n.push(e);return n}ucs2encode(r){for(var e,t=r.length,n=-1,o="";++n<t;)(e=r[n])>65535&&(o+=String.fromCharCode((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=String.fromCharCode(e);return o}checkScalarValue(r){if(r>=55296&&r<=57343)throw Error("Lone surrogate U+"+r.toString(16).toUpperCase()+" is not a scalar value")}createByte(r,e){return String.fromCharCode(r>>e&63|128)}encodeCodePoint(r){if(0==(4294967168&r))return String.fromCharCode(r);var e="";return 0==(4294965248&r)?e=String.fromCharCode(r>>6&31|192):0==(4294901760&r)?(this.checkScalarValue(r),e=String.fromCharCode(r>>12&15|224),e+=this.createByte(r,6)):0==(4292870144&r)&&(e=String.fromCharCode(r>>18&7|240),e+=this.createByte(r,12),e+=this.createByte(r,6)),e+String.fromCharCode(63&r|128)}encode(r){for(var e=this.ucs2decode(r),t=e.length,n=-1,o="";++n<t;)o+=this.encodeCodePoint(e[n]);return o}readContinuationByte(){if(this.byteIndex>=this.byteCount)throw Error("Invalid byte index");var r=255&this.byteArray[this.byteIndex];if(this.byteIndex++,128==(192&r))return 63&r;throw Error("Invalid continuation byte")}decodeSymbol(){var r,e;if(this.byteIndex>this.byteCount)throw Error("Invalid byte index");if(this.byteIndex==this.byteCount)return!1;if(r=255&this.byteArray[this.byteIndex],this.byteIndex++,0==(128&r))return r;if(192==(224&r)){if((e=(31&r)<<6|this.readContinuationByte())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&r)){if((e=(15&r)<<12|this.readContinuationByte()<<6|this.readContinuationByte())>=2048)return this.checkScalarValue(e),e;throw Error("Invalid continuation byte")}if(240==(248&r)&&(e=(7&r)<<18|this.readContinuationByte()<<12|this.readContinuationByte()<<6|this.readContinuationByte())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}decode(r){this.byteArray=this.ucs2decode(r),this.byteCount=this.byteArray.length,this.byteIndex=0;for(var e,t=[];!1!==(e=this.decodeSymbol());)t.push(e);return this.ucs2encode(t)}}}
// prettier-ignore
function Base64(){return new class{constructor(){this.TABLE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.REGEX_SPACE_CHARACTERS=/[\t\n\f\r ]/g}InvalidCharacterError(message){this.message=message}error(message){throw new this.InvalidCharacterError(message)}decode(input){var length=(input=String(input).replace(this.REGEX_SPACE_CHARACTERS,"")).length;length%4==0&&(length=(input=input.replace(/==?$/,"")).length),(length%4==1||/[^+a-zA-Z0-9/]/.test(input))&&this.error("Invalid character: the string to be decoded is not correctly encoded.");for(var bitCounter=0,bitStorage,buffer,output="",position=-1;++position<length;)buffer=this.TABLE.indexOf(input.charAt(position)),bitStorage=bitCounter%4?64*bitStorage+buffer:buffer,bitCounter++%4&&(output+=String.fromCharCode(255&bitStorage>>(-2*bitCounter&6)));return output}encode(input){input=String(input),/[^\0-\xFF]/.test(input)&&this.error("The string to be encoded contains characters outside of the Latin1 range.");for(var padding=input.length%3,output="",position=-1,a,b,c,buffer,length=input.length-padding;++position<length;)buffer=(a=input.charCodeAt(position)<<16)+(b=input.charCodeAt(++position)<<8)+(c=input.charCodeAt(++position)),output+=this.TABLE.charAt(buffer>>18&63)+this.TABLE.charAt(buffer>>12&63)+this.TABLE.charAt(buffer>>6&63)+this.TABLE.charAt(63&buffer);return 2==padding?(buffer=(a=input.charCodeAt(position)<<8)+(b=input.charCodeAt(++position)),output+=this.TABLE.charAt(buffer>>10)+this.TABLE.charAt(buffer>>4&63)+this.TABLE.charAt(buffer<<2&63)+"="):1==padding&&(buffer=input.charCodeAt(position),output+=this.TABLE.charAt(buffer>>2)+this.TABLE.charAt(buffer<<4&63)+"=="),output}}}
// prettier-ignore
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `\ud83d\udd14${this.name}, \u5f00\u59cb!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), a = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(a, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t) { let e = { "M+": (new Date).getMonth() + 1, "d+": (new Date).getDate(), "H+": (new Date).getHours(), "m+": (new Date).getMinutes(), "s+": (new Date).getSeconds(), "q+": Math.floor(((new Date).getMonth() + 3) / 3), S: (new Date).getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, ((new Date).getFullYear() + "").substr(4 - RegExp.$1.length))); for (let s in e) new RegExp("(" + s + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[s] : ("00" + e[s]).substr(("" + e[s]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t.stack) : this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
